- op: add
  path: /spec/resources/-
  value:
    apiVersion: appstudio.redhat.com/v1alpha1
    kind: Component
    metadata:
      annotations:
        build.appstudio.openshift.io/pipeline: '{"name":"docker-build-oci-ta","bundle":"latest"}'
        git-provider: github
        git-provider-url: https://github.com
        mintmaker.appstudio.redhat.com/disabled: "{{.mintmakerDisabled}}"
      name: "cosign{{.nameSuffix}}"
    spec:
      application: "{{.application}}{{.nameSuffix}}"
      componentName: "cosign"
      build-nudges-ref:
        - "client-server{{.nameSuffix}}"
      source:
        git:
          url: https://github.com/securesign/cosign
          revision: "{{.branch}}"
          dockerfileUrl: Dockerfile.cosign.rh
- op: add
  path: /spec/resources/-
  value:
    apiVersion: appstudio.redhat.com/v1alpha1
    kind: ImageRepository 
    metadata:
      name: "cosign{{.nameSuffix}}"
      annotations:
        image-controller.appstudio.redhat.com/update-component-image: 'true'
      labels:
        appstudio.redhat.com/application: "{{.application}}{{.nameSuffix}}"
        appstudio.redhat.com/component: "cosign{{.nameSuffix}}"
    spec:
      image:
        name: rhtas-tenant/cosign
        visibility: public
      notifications:
        - config:
            url: https://bombino.api.redhat.com/v1/sbom/quay/push
          event: repo_push
          method: webhook
          title: SBOM-event-to-Bombino